/*! Complex Meta Fields - v0.2.0
 * http://eney.solutions/complex-meta-fields
 * Copyright (c) 2014; * Licensed GPLv2+ */
(function(e){"use strict";var n=function(){return{key:"",label:""}},i=function(){return{input:"text",name:"",options:[new n]}},t=function(){return{show:!0,name:"New FieldSet",post_type:"post",options:[new i]}};e.cmf=angular.module("cmfApp",["slugifier"]).controller("cmfWorkspace",function(e,o){e.is_loading=!1,e.getFieldSets=function(){e.is_loading=!0,o.get(ajaxurl+"?action=cmf_get_fieldsets").success(function(n){e.fieldsets=n,e.is_loading=!1})},e.addFieldSet=function(e){e.push(new t)},e.removeFieldSet=function(e,n){confirm("Sure?")&&e.splice(n,1)},e.removeFieldValue=function(e,n){confirm("Sure?")&&e.splice(n,1)},e.addField=function(e){e.push(new i)},e.addFieldValue=function(e){e.push(new n)},e.removeField=function(e,n){confirm("Sure?")&&e.splice(n,1)},e.fieldHasValues=function(e){return-1!==["select","radio","checkbox"].indexOf(e.input)}}).controller("cmfHelp",function(e){e.sections={},e.init=function(n){e.sections=n},e.toggleSection=function(n){for(var i in e.sections)e.sections[i]=!1;e.sections[n]=!0}}).controller("cmfMetaBox",function(e){e.templates_url=cmfL10N.templates_url,e.fieldsets=[],e.initialize=function(n,i){e.template=i,e.fieldsets=n},e.addFieldSet=function(n){n.push(angular.copy(e.template))},e.removeFieldSet=function(e,n){confirm("Sure?")&&e.splice(n,1)}})})(this);